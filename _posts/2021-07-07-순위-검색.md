---
title: Coding Test - 순위검색
date: 2021-07-07
categories: codingtest
---

Click [programmers coding test link](https://programmers.co.kr/learn/challenges)

### 문제파악하기
___
#### 요구사항
지원서 정보에서 각 문의조건에 해당하는 사람들의 숫자를 return.

#### 입출력변수
- info    
크기가 1 이상 50,000 이하.  
각 원소의 값은 "개발언어 직군 경력 소울푸드 점수" 형식.

- query    
크기가 1 이상 100,000 이하.  
각 원소의 값은 "개발언어 and 직군 and 경력 and 소울푸드 점수" 형식.  
'-'표시는 해당 조건을 고려 하지 않겠다는 의미.

- result    
크기가 query 배열과 같음.  
각 원소의 값은 각 문의조건에 해당하는 사람들의 숫자. 


### 1차 시도
___
 
#### code
info 배열과 query 배열에서 원하는 정보를 추출하기 위해  
각 정보를 columns로 하는 DataFrame에 할당하기.
```python
import pandas as pd

# 배열 info를 정보별로 분류해서 list에 할당
info_list = []
for s in info:
    s = s.split()
    # score의 자료형을 str에서 int로 변환    
    score = int(s[-1])
    del s[-1]
    s.append(score)
    
    info_list.append(s)
# 분류된 배열 info_list를 DataFrame에 할당
info_data = pd.DataFrame(info_list, columns=["Language", "Job", "Career", "Food", "Score"])
```
```python
# 배열 query를 정보별로 분류해서 list에 할당
query_list = []
for s in query:
    s = s.split(" and ")
    food_score = s[-1].split()
    # score의 자료형을 str에서 int로 변환
    score = int(food_score[-1])
    del food_score[-1]
    food_score.append(score)
    
    del s[-1]
    s = s + food_score
    query_list.append(s)
# 분류된 배열 query_list를 DataFrame에 할당
query_data = pd.DataFrame(query_list, columns=["Language", "Job", "Career", "Food", "Score"])
```  
query_data 원소 한개에 대해서 info_data 원소를 하나씩 반복해서 비교하기.    
조건에 부합하면 result 배열에 +1, 아니면 다음 원소로 넘어가서 비교하기.
```python
result = [0] * len(query_data)
for i in range(len(query_data)):
    score = query_data.loc[i, "Score"]
    language = query_data.loc[i, "Language"]
    job = query_data.loc[i, "Job"]
    career = query_data.loc[i, "Career"]
    food = query_data.loc[i, "Food"]
    
    # info_data 원소 하나씩 
    for j in range(len(info_data)):
        pass_point = 0
        # score 조건 판단
        if info_data.loc[j, "Score"] >= score:
            pass_point += 1
        else:
            continue
        # languge 조건 판단
        if language == "-" or info_data.loc[j, "Language"] == language:
            pass_point += 1
        else:
            continue
        # job 조건 판단
        if job == "-" or info_data.loc[j, "Job"] == job:
            pass_point += 1
        else:
            continue
        # career 조건 판단
        if career == "-" or info_data.loc[j, "Career"] == career:
            pass_point += 1
        else:
            continue
        # food 조건 판단
        if food == "-" or info_data.loc[j, "Food"] == food:
            pass_point += 1
        else:
            continue
        
        if pass_point == 5:
            result[i] += 1
```

#### 결과
